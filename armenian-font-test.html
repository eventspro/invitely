<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Armenian Font Test</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Armenian:wght@100;200;300;400;500;600;700;800;900&family=Noto+Serif+Armenian:wght@100;200;300;400;500;600;700;800;900&subset=armenian&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Noto Sans Armenian', Arial, sans-serif;
            padding: 20px;
            line-height: 1.6;
        }
        
        .armenian-text {
            font-family: 'Noto Sans Armenian', Arial, sans-serif !important;
            font-size: 18px;
            margin: 10px 0;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        
        .serif-armenian {
            font-family: 'Noto Serif Armenian', serif !important;
        }
        
        .fallback-test {
            font-family: Arial, sans-serif;
        }
        
        .test-grid {
            display: grid;
            gap: 20px;
            margin-top: 20px;
        }
        
        h1 {
            font-family: 'Noto Serif Armenian', serif;
            color: #333;
        }
        
        .debug-info {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            font-family: monospace;
        }
    </style>
</head>
<body>
    <h1>Armenian Font Display Test</h1>
    
    <div class="debug-info">
        <strong>Font Loading Status:</strong>
        <div id="font-status">Checking...</div>
        <div id="font-details"></div>
    </div>
    
    <div class="test-grid">
        <div class="armenian-text">
            <strong>Test 1 - Basic Armenian Text:</strong><br>
            Հրավիրում ենք մեր հարսանիքին
        </div>
        
        <div class="armenian-text serif-armenian">
            <strong>Test 2 - Serif Armenian Font:</strong><br>
            Հարուտ և Թաթև
        </div>
        
        <div class="armenian-text">
            <strong>Test 3 - Mixed Text:</strong><br>
            Wedding Invitation - Հարսանեկան հրավեր
        </div>
        
        <div class="armenian-text">
            <strong>Test 4 - Common Wedding Text:</strong><br>
            Մենք հպարտությամբ հրավիրում ենք ձեզ մեր հարսանեկան արարողությանը
        </div>
        
        <div class="armenian-text fallback-test">
            <strong>Test 5 - Fallback Font (should show question marks if font not loaded):</strong><br>
            Հրավիրում ենք մեր հարսանիքին
        </div>
    </div>
    
    <script>
        function checkFontStatus() {
            const status = document.getElementById('font-status');
            const details = document.getElementById('font-details');
            
            if (document.fonts) {
                Promise.all([
                    document.fonts.load('400 16px "Noto Sans Armenian"'),
                    document.fonts.load('400 16px "Noto Serif Armenian"')
                ]).then(() => {
                    status.textContent = 'Armenian fonts loaded successfully ✅';
                    status.style.color = 'green';
                    
                    // Check if fonts are actually available
                    const canvas = document.createElement('canvas');
                    const ctx = canvas.getContext('2d');
                    
                    ctx.font = '16px "Noto Sans Armenian"';
                    const armenianWidth = ctx.measureText('Հ').width;
                    
                    ctx.font = '16px Arial';
                    const arialWidth = ctx.measureText('Հ').width;
                    
                    if (armenianWidth !== arialWidth) {
                        details.innerHTML = '<div style="color: green;">Font metrics confirm Armenian fonts are rendering correctly</div>';
                    } else {
                        details.innerHTML = '<div style="color: orange;">Warning: Armenian fonts may be falling back to Arial</div>';
                    }
                }).catch((error) => {
                    status.textContent = 'Font loading failed ❌';
                    status.style.color = 'red';
                    details.innerHTML = '<div style="color: red;">Error: ' + error.message + '</div>';
                });
            } else {
                status.textContent = 'Font Loading API not supported';
                status.style.color = 'orange';
            }
        }
        
        // Check font status when page loads
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', checkFontStatus);
        } else {
            checkFontStatus();
        }
    </script>
</body>
</html>